<div class="theater-container">
    <!-- Available Theaters List -->
    <div class="theater-list">
      <h2>Available Theaters</h2>
      <mat-card *ngFor="let theater of theaters" (click)="selectTheater(theater)" class="theater-item">
        <mat-card-header>
          <mat-card-title>{{ theater.name }}</mat-card-title>
          <mat-card-subtitle>{{ theater.address }}</mat-card-subtitle>
        </mat-card-header>
      </mat-card>
    </div>
  
    <div class="show-times" *ngIf="selectedTheater">
      <h2>Available Show Times</h2>
      <mat-card>
        <mat-card-header>
          <mat-card-subtitle>{{ selectedTheater.name }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <div class="show-time-list">
            <button mat-raised-button color="primary" *ngFor="let time of selectedTheater.showTimes"
              (click)="selectShowTime(time)"
              [class.active]="selectedShowTime === time">
              {{ time }}
            </button>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="seat-selection" *ngIf="selectedShowTime">
      <h2>Select Your Seats for {{ selectedShowTime }}</h2>
      <div class="seat-map">
        <div *ngFor="let row of seatMap; let rowIndex = index" class="seat-row">
          <div
            *ngFor="let seat of row; let seatIndex = index"
            [class.available]="seat === 'A'"
            [class.unavailable]="seat === 'N'"
            [class.selected]="isSeatSelected(rowIndex, seatIndex)"
            (click)="toggleSeatSelection(rowIndex, seatIndex, seat)"
            class="seat"
          >
            {{ rowIndex + 1 }}{{ seatIndex + 1 }}
          </div>
        </div>
      </div>
    </div>
  </div>